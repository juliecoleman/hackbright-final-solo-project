{% extends 'base.html' %}

{% block body %}

{#   <div id="app"></div> #}

{#   <h5>{{plant_hardiness_zone}}</h5>

  <h5>{{crop_list}}</h5> #}

  {% if not crop_list %}

    <h1 class="text-white">Sorry, there were no results matching your search</h1>
    <br></br>

  {% else %}

    <h1 class="text-white">Here are your results!</h1>
    <br></br>


    <h3 class="text-warning">From your zipcode, your plant hardiness zone is {{plant_hardiness_zone}}.
      <img src="/static/img/questionmark-1.jpg" style="width:1.5rem;" 
      data-toggle="tooltip" data-placement="right" title="Here is an image of the plant hardiness zones in the US for reference. <img src='/static/img/plant-hardiness-zones-2.jpg' /> Source: USDA-ARS and Oregon State University">
      <br></br>These results are based on your inputs: 
      <br></br>-Planting in {{crop_list[0]['planting_month']}}
      <br></br>-Shade: {{crop_list[0]['shade_ok']}}
      <br></br>-Soil type: {{crop_list[0]['soil_type']}}
      <br></br>-Soil pH: {{crop_list[0]['soil_ph']}}
      <br></br>-Difficulty level: {{crop_list[0]['difficulty']}}


  {% endif %}

  {% for crop in crop_list %}

  
    <div class="card" style="width: 80rem;">
      <img src="https://res-4.cloudinary.com/do6bw42am/image/upload/c_scale,f_auto,h_300/v1/{{crop['image_url']}}" style="width: 20rem;">

      <div class="card-body">
        <h3>Name: {{crop['name']}}</h3>
      </div>

      <ul class="list-group list-group-flush">
        <li class="list-group-item">How to grow from seed: {{crop['growing_from_seed']}}</li>
        <li class="list-group-item">How to transplant: {{crop['transplanting']}}</li>
        <li class="list-group-item">Spacing: {{crop['spacing']}}</li>
        <li class="list-group-item">Watering: {{crop['watering']}}</li>
        <li class="list-group-item">Feeding: {{crop['feeding']}}</li>
        <li class="list-group-item">Crop ID: {{crop['crop_id']}}</li>
      </ul>

{#    <form action="/create-favorite" method="POST" class="add-favorite">
      <input type="hidden" name="crop_id" value="{{crop['crop_id']}}" id="crop_id-field"/>
 #}   
      <div class="card-body">
        <button type="submit" class="btn btn-info" aria-pressed="true" onclick="addFavorite({{crop['crop_id']}})">Add to favorites</button>
      </div>

    </div>
{#    </form> #} 
  
    <br></br>
  {% endfor%}

  <div class="container">
    <div class="row">
      <div class="col-6">

        <h2 class="text-white">Ready to see all your favorites?</h2>
        <form action="/favorites">
          <button type="submit" class="btn btn-info btn-lg">Favorites</button>
        </form>
      </div>

      <div class="col-6 text-left">

        <h2 class="text-white">Return to homepage</h2>
        <form action="/">
          <button type="submit" class="btn btn-info btn-lg">Homepage</button>
        </form>
      </div>
    </div>
  </div>
  {# class="add-favorite" #}

  <br></br>

  <script src="/static/js/results.js"></script>
{# {% block js %} #}
  {# <script src="/static/js/results.jsx" type="text/jsx"></script> #}
{# {% endblock %} #}

{% endblock %}